{"version":3,"file":"pau-table-of-contents-block/index.js","mappings":"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AACA;AACsB;;AAEtB;AACA;AACA;AAC0B;AACA;AACU;;AAEpC;AACA;AACA;AACA;AACA;AACAqB,oEAAiB,CAAEE,6CAAa,EAAE;EACjC;AACD;AACA;EACCC,IAAI,EAAE3G,6CAAI;EACV;AACD;AACA;EACCyG,IAAIA,+CAAAA;AACL,CAAE,CAAC,C;;;;;;;;;;;;;;;;;;ACrCH;AACA;AACA;AACA;AACA;AACA;AACwD;;AAExD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;AASe,SAASA,IAAIA,CAAA,EAAG;EAC9B,oBACCnH,sDAAA;IAAA,GAAQd,kEAAa,CAACiI,IAAI,CAAC,CAAC;IAAAtB,QAAA,EACzB;EAAE,CACF,CAAC;AAEN,C;;;;;;;;;;;ACvBA;;;;;;;;;;;ACAA,0C;;;;;;;;;;ACAA,6C;;;;;;;;;;ACAA,wC;;;;;;;;;;ACAA,4C;;;;;;;;;;ACAA,yC;;;;;;;;;;ACAA,sC;;;;;;;;;;ACAA,2C;;;;;;UCAA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;UAEA;UACA;;;;;WCzBA;WACA;WACA;WACA;WACA,+BAA+B,wCAAwC;WACvE;WACA;WACA;WACA;WACA,iBAAiB,qBAAqB;WACtC;WACA;WACA,kBAAkB,qBAAqB;WACvC;WACA;WACA,KAAK;WACL;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,E;;;;;WC3BA;WACA;WACA;WACA;WACA;WACA,iCAAiC,WAAW;WAC5C;WACA,E;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA,E;;;;;WCPA,wF;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D,E;;;;;WCNA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,MAAM,qBAAqB;WAC3B;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA,4G;;;;;UEjDA;UACA;UACA;UACA;UACA","sources":["webpack://pau-table-of-contents-block/./src/pau-table-of-contents-block/edit.js","webpack://pau-table-of-contents-block/./src/pau-table-of-contents-block/editor.scss","webpack://pau-table-of-contents-block/./src/pau-table-of-contents-block/index.js","webpack://pau-table-of-contents-block/./src/pau-table-of-contents-block/save.js","webpack://pau-table-of-contents-block/./src/pau-table-of-contents-block/style.scss","webpack://pau-table-of-contents-block/external window [\"wp\",\"apiFetch\"]","webpack://pau-table-of-contents-block/external window [\"wp\",\"blockEditor\"]","webpack://pau-table-of-contents-block/external window [\"wp\",\"blocks\"]","webpack://pau-table-of-contents-block/external window [\"wp\",\"components\"]","webpack://pau-table-of-contents-block/external window [\"wp\",\"element\"]","webpack://pau-table-of-contents-block/external window [\"wp\",\"i18n\"]","webpack://pau-table-of-contents-block/external window \"ReactJSXRuntime\"","webpack://pau-table-of-contents-block/webpack/bootstrap","webpack://pau-table-of-contents-block/webpack/runtime/chunk loaded","webpack://pau-table-of-contents-block/webpack/runtime/compat get default export","webpack://pau-table-of-contents-block/webpack/runtime/define property getters","webpack://pau-table-of-contents-block/webpack/runtime/hasOwnProperty shorthand","webpack://pau-table-of-contents-block/webpack/runtime/make namespace object","webpack://pau-table-of-contents-block/webpack/runtime/jsonp chunk loading","webpack://pau-table-of-contents-block/webpack/before-startup","webpack://pau-table-of-contents-block/webpack/startup","webpack://pau-table-of-contents-block/webpack/after-startup"],"sourcesContent":["/**\n * Retrieves the required components from the WordPress packages.\n */\nimport { __ } from '@wordpress/i18n';\n/**\n * React hook that is used to mark the block wrapper element.\n * It provides all the necessary props like the class name.\n *\n * @see https://developer.wordpress.org/block-editor/reference-guides/packages/packages-block-editor/#useblockprops\n */\nimport {\n\tuseBlockProps,\n\t// RichText is kept only as a disabled placeholder for dynamic block info\n\tAlignmentToolbar,\n\tBlockControls,\n\tInspectorControls\n} from '@wordpress/block-editor';\nimport { ToolbarGroup, PanelBody, SelectControl, Button, Dashicon, Spinner } from '@wordpress/components';\nimport { useState, useEffect } from '@wordpress/element';\nimport apiFetch from '@wordpress/api-fetch';\n/**\n * Lets webpack process CSS, SASS or SCSS files referenced in JavaScript files.\n * Those files can contain any CSS code that gets applied to the editor.\n *\n * @see https://www.npmjs.com/package/@wordpress/scripts#using-css\n */\nimport './editor.scss';\n\n// Helper function to decode HTML entities in titles\nconst decodeHTMLEntities = (text) => {\n\t// Use a temporary textarea element to leverage the browser's DOM parser\n\tconst textarea = document.createElement('textarea');\n\ttextarea.innerHTML = text;\n\treturn textarea.value;\n};\n\n/**\n * Defines the edit function for the block.\n *\n * @param {Object} props\n * @param {Object} props.attributes The block's attributes.\n * @param {Function} props.setAttributes The function to update attributes.\n * @returns {JSX.Element} The editor interface.\n */\nexport default function Edit( { className, attributes: attr, setAttributes } ) {\n\t// UPDATED: Destructuring to include new chapterOrder attribute\n\tconst { category, postOrder, chapterOrder } = attr;\n\n\t// State for data fetched from the WordPress REST API\n\tconst [categories, setCategories] = useState([]);         // All top-level categories (Books)\n\tconst [childCategories, setChildCategories] = useState([]); // Child categories of the selected root (Chapters)\n\tconst [postsByChapter, setPostsByChapter] = useState({});   // Posts associated with each chapter ID\n\tconst [isLoading, setIsLoading] = useState(false);\n\n\tconst onChangeAlignment = ( newAlignment ) => {\n\t\tsetAttributes( {\n\t\t\talignment: newAlignment === undefined ? 'none' : newAlignment,\n\t\t} );\n\t};\n\n\tconst onChangeCategory = ( newCat ) => {\n\t\t// Reset post and chapter order and clear data when root category changes\n\t\tsetAttributes( {\n\t\t\tcategory: newCat === '' ? '' : newCat,\n\t\t\tpostOrder: {},\n\t\t\tchapterOrder: [], // NEW: Reset chapterOrder\n\t\t} );\n\t};\n\n\t// 1. Fetch Root Categories (Parent=0) for the initial dropdown\n\tuseEffect(() => {\n\t\tapiFetch({ path: '/wp/v2/categories?parent=0&per_page=100' })\n\t\t\t.then((data) => setCategories(data))\n\t\t\t.catch((error) => console.error(\"Error fetching top-level categories:\", error));\n\t}, []);\n\n\n\t// 2. Fetch Child Categories (Chapters) when the root category changes\n\tuseEffect(() => {\n\t\tif (category && category !== '') {\n\t\t\tsetIsLoading(true);\n\t\t\tconst parentId = parseInt(category, 10);\n\t\t\tconst path = `/wp/v2/categories?parent=${parentId}&per_page=100`;\n\n\t\t\tapiFetch({ path })\n\t\t\t\t.then((data) => {\n\t\t\t\t\tsetChildCategories(data);\n\n\t\t\t\t\t// NEW: Initialize chapterOrder attribute\n\t\t\t\t\tconst fetchedChapterIds = data.map(chapter => chapter.id);\n\n\t\t\t\t\tif (chapterOrder.length === 0 || chapterOrder.some(id => !fetchedChapterIds.includes(id))) {\n\t\t\t\t\t\t// Initialize or sanitize chapterOrder if it's empty or contains invalid IDs\n\t\t\t\t\t\tsetAttributes({\n\t\t\t\t\t\t\tchapterOrder: fetchedChapterIds\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tconsole.error(`Error fetching child categories for parent ${parentId}:`, error);\n\t\t\t\t\tsetChildCategories([]);\n\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t});\n\t\t} else {\n\t\t\tsetChildCategories([]);\n\t\t\tsetPostsByChapter({});\n\t\t\tsetIsLoading(false);\n\t\t}\n\t}, [category]); // Depend on category attribute\n\n\t// 3. Fetch Posts for all Child Categories and initialize/sanitize Post Order\n\tuseEffect(() => {\n\t\tif (childCategories.length === 0) {\n\t\t\tsetPostsByChapter({});\n\t\t\tsetIsLoading(false);\n\t\t\treturn;\n\t\t}\n\n\t\t// Start fetching posts\n\t\tsetIsLoading(true);\n\t\tconst fetchPromises = childCategories.map(chapter => {\n\t\t\t// Fetch posts associated with this chapter category ID\n\t\t\t// Use 'include' filter on post status to ensure public posts are fetched\n\t\t\treturn apiFetch({\n\t\t\t\tpath: `/wp/v2/posts?categories=${chapter.id}&per_page=100&orderby=date&order=asc&_fields=id,title,link&status=publish,future`\n\t\t\t}).then(posts => ({ chapterId: chapter.id, posts }));\n\t\t});\n\n\t\tPromise.all(fetchPromises)\n\t\t\t.then(results => {\n\t\t\t\tconst newPostsByChapter = {};\n\t\t\t\tlet newPostOrder = { ...postOrder };\n\t\t\t\tlet postOrderChanged = false;\n\n\t\t\t\tresults.forEach(({ chapterId, posts }) => {\n\t\t\t\t\tconst chapterIdStr = String(chapterId);\n\t\t\t\t\tnewPostsByChapter[chapterIdStr] = posts;\n\n\t\t\t\t\t// Get a list of IDs of posts currently found by the API\n\t\t\t\t\tconst fetchedPostIds = posts.map(post => post.id);\n\n\t\t\t\t\tif (!newPostOrder[chapterIdStr] || newPostOrder[chapterIdStr].length === 0) {\n\t\t\t\t\t\t// Case 1: Initialize order using the API's default sort (date)\n\t\t\t\t\t\tnewPostOrder[chapterIdStr] = fetchedPostIds;\n\t\t\t\t\t\tpostOrderChanged = true;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Case 2: Sanitize and update existing custom order\n\n\t\t\t\t\t\t// 1. Filter out deleted/unpublished posts from the saved order\n\t\t\t\t\t\tconst existingOrder = newPostOrder[chapterIdStr].filter(id => fetchedPostIds.includes(id));\n\n\t\t\t\t\t\t// 2. Add new posts (found by API but not in saved order) to the end\n\t\t\t\t\t\tconst missingPosts = fetchedPostIds.filter(id => !existingOrder.includes(id));\n\n\t\t\t\t\t\tconst finalOrder = [...existingOrder, ...missingPosts];\n\n\t\t\t\t\t\tif (JSON.stringify(newPostOrder[chapterIdStr]) !== JSON.stringify(finalOrder)) {\n\t\t\t\t\t\t\tnewPostOrder[chapterIdStr] = finalOrder;\n\t\t\t\t\t\t\tpostOrderChanged = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tsetPostsByChapter(newPostsByChapter);\n\n\t\t\t\t// Update postOrder attribute only if a change was detected\n\t\t\t\tif (postOrderChanged) {\n\t\t\t\t\tsetAttributes({ postOrder: newPostOrder });\n\t\t\t\t}\n\n\t\t\t\tsetIsLoading(false);\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tconsole.error(\"Error fetching posts for chapters:\", error);\n\t\t\t\tsetIsLoading(false);\n\t\t\t\tsetPostsByChapter({});\n\t\t\t});\n\n\t}, [childCategories, postOrder]); // Added postOrder dependency to re-run sanitization if a user changes it\n\n\t// 4. Article Reordering Handler\n\tconst handleMovePost = ( chapterIdStr, postId, direction ) => {\n\t\tconst currentPostOrder = postOrder[chapterIdStr];\n\t\tif (!currentPostOrder) return;\n\n\t\tconst currentIndex = currentPostOrder.indexOf( postId );\n\t\tlet newIndex = currentIndex + ( direction === 'up' ? -1 : 1 );\n\n\t\t// Ensure the new index is within bounds\n\t\tif ( newIndex >= 0 && newIndex < currentPostOrder.length ) {\n\t\t\tconst newChapterOrder = [ ...currentPostOrder ];\n\t\t\t// Swap elements\n\t\t\t[ newChapterOrder[ currentIndex ], newChapterOrder[ newIndex ] ] = [ newChapterOrder[ newIndex ], newChapterOrder[ currentIndex ] ];\n\n\t\t\t// Update the block attribute with the new structure\n\t\t\tsetAttributes({\n\t\t\t\tpostOrder: {\n\t\t\t\t\t...postOrder,\n\t\t\t\t\t[chapterIdStr]: newChapterOrder\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n\n\t// NEW: 5. Chapter Reordering Handler\n\tconst handleMoveChapter = ( chapterId, direction ) => {\n\t\tconst currentIndex = chapterOrder.indexOf( chapterId );\n\t\tlet newIndex = currentIndex + ( direction === 'up' ? -1 : 1 );\n\n\t\tif ( newIndex >= 0 && newIndex < chapterOrder.length ) {\n\t\t\tconst newChapterOrder = [ ...chapterOrder ];\n\t\t\t// Swap elements\n\t\t\t[ newChapterOrder[ currentIndex ], newChapterOrder[ newIndex ] ] = [ newChapterOrder[ newIndex ], newChapterOrder[ currentIndex ] ];\n\n\t\t\t// Update the block attribute\n\t\t\tsetAttributes({ chapterOrder: newChapterOrder });\n\t\t}\n\t};\n\n\tconst getPostTitle = (chapterIdStr, postId) => {\n\t\tconst posts = postsByChapter[chapterIdStr] || [];\n\t\t// Find the post by its ID in the local state copy\n\t\tconst post = posts.find(p => p.id === postId);\n\t\t// Use the raw title for display in the editor, and decode HTML entities\n\t\treturn post ? decodeHTMLEntities(post.title.rendered) : `[Post ID ${postId} - Title Not Found]`;\n\t};\n\n\tconst getPostLink = (chapterIdStr, postId) => {\n\t\tconst posts = postsByChapter[chapterIdStr] || [];\n\t\tconst post = posts.find(p => p.id === postId);\n\t\treturn post ? post.link : `#`;\n\t};\n\n\tconst getChapterName = (chapterId) => {\n\t\tconst chapterIdInt = parseInt(chapterId, 10);\n\n\t\t// Find the root category name (optional, mainly for the H2 title)\n\t\tconst root = categories.find(c => c.id === parseInt(category, 10));\n\t\tif (root && root.id === chapterIdInt) {\n\t\t\treturn root.name;\n\t\t}\n\n\t\t// Find the child category (chapter) name\n\t\tconst childChapter = childCategories.find(c => c.id === chapterIdInt);\n\t\treturn childChapter ? decodeHTMLEntities(childChapter.name) : `[Category ID ${chapterId} - Name Not Found]`;\n\t}\n\n\tconst blockProps = useBlockProps({\n\t\tclassName: 'wp-block-toc-editor p-4 border border-gray-200 rounded-lg bg-gray-50'\n\t});\n\n\t// Helper to get ordered list of chapter objects\n\tconst getOrderedChapters = () => {\n\t\t// Filter out any chapter IDs that may be in the order but not in the fetched list\n\t\treturn chapterOrder.map(chapterId => {\n\t\t\treturn childCategories.find(c => c.id === chapterId);\n\t\t}).filter(Boolean); // Filter out undefined if a category was deleted\n\t};\n\n\tconst orderedChapters = getOrderedChapters();\n\n\treturn(\n\t\t<div {...blockProps}>\n\t\t\t<BlockControls>\n\t\t\t\t<ToolbarGroup>\n\t\t\t\t\t<AlignmentToolbar\n\t\t\t\t\t\tvalue={ attr.alignment }\n\t\t\t\t\t\tonChange={ onChangeAlignment }\n\t\t\t\t\t/>\n\t\t\t\t</ToolbarGroup>\n\t\t\t</BlockControls>\n\n\t\t\t<InspectorControls>\n\t\t\t\t<PanelBody title={__(\"Settings\", 'pau-table-of-contents-block')}>\n\t\t\t\t\t<SelectControl\n\t\t\t\t\t\tlabel={ __('Root Category', 'pau-table-of-contents-block')}\n\t\t\t\t\t\tvalue = {category}\n\t\t\t\t\t\toptions={ [\n\t\t\t\t\t\t\t{ label: __('Select a root category', 'pau-table-of-contents-block'), value: '' },\n\t\t\t\t\t\t\t...categories.map( (cat) => ({\n\t\t\t\t\t\t\t\tlabel: cat.name,\n\t\t\t\t\t\t\t\tvalue: String(cat.id),\n\t\t\t\t\t\t\t}))\n\t\t\t\t\t\t] }\n\t\t\t\t\t\tonChange={onChangeCategory}\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t/>\n\t\t\t\t</PanelBody>\n\t\t\t</InspectorControls>\n\n\t\t\t{/* Visual Editor Preview and Reordering Interface */}\n\t\t\t<div className=\"toc-preview-container\" style={ { textAlign: attr.alignment } }>\n\t\t\t\t<h2 className=\"text-xl font-bold mb-4\">\n\t\t\t\t\t{ category ? getChapterName(category) : 'Table of Contents Preview (Select Root Category)' }\n\t\t\t\t</h2>\n\n\t\t\t\t{ isLoading && (\n\t\t\t\t\t<div className=\"flex items-center space-x-2 p-3 bg-indigo-100 text-indigo-800 rounded\">\n\t\t\t\t\t\t<Spinner />\n\t\t\t\t\t\t<p>Loading chapters and articles...</p>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\n\t\t\t\t{ !isLoading && category && orderedChapters.length > 0 && (\n\t\t\t\t\t<ol className=\"list-decimal list-inside space-y-4 pl-0 ml-4\">\n\t\t\t\t\t\t{/* NEW: Loop over the custom ordered list of chapter IDs */}\n\t\t\t\t\t\t{orderedChapters.map((chapter, chapterIndex) => {\n\t\t\t\t\t\t\tconst chapterIdStr = String(chapter.id);\n\t\t\t\t\t\t\t// Use the custom post order from attributes, falling back to an empty array\n\t\t\t\t\t\t\tconst orderedPostIds = postOrder[chapterIdStr] || [];\n\t\t\t\t\t\t\tconst isFirstChapter = chapterIndex === 0;\n\t\t\t\t\t\t\tconst isLastChapter = chapterIndex === orderedChapters.length - 1;\n\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<li key={chapter.id} className=\"font-semibold text-gray-700 p-2 border border-blue-100 bg-blue-50 rounded\">\n\t\t\t\t\t\t\t\t\t<div className=\"flex items-center justify-between\">\n\t\t\t\t\t\t\t\t\t\t<span>{getChapterName(chapter.id)}</span>\n\t\t\t\t\t\t\t\t\t\t{/* NEW: Chapter Reordering Controls */}\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex space-x-1\">\n\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\ticon={ <Dashicon icon=\"arrow-up-alt2\" /> }\n\t\t\t\t\t\t\t\t\t\t\t\tlabel={ __( 'Move Chapter Up', 'toc-block' ) }\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={ () => handleMoveChapter( chapter.id, 'up' ) }\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={ isFirstChapter }\n\t\t\t\t\t\t\t\t\t\t\t\tisSmall\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\ticon={ <Dashicon icon=\"arrow-down-alt2\" /> }\n\t\t\t\t\t\t\t\t\t\t\t\tlabel={ __( 'Move Chapter Down', 'toc-block' ) }\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={ () => handleMoveChapter( chapter.id, 'down' ) }\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={ isLastChapter }\n\t\t\t\t\t\t\t\t\t\t\t\tisSmall\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t{orderedPostIds.length > 0 && (\n\t\t\t\t\t\t\t\t\t\t<ul className=\"list-none space-y-1 mt-2 border-l-2 border-gray-200 pl-4 pt-1\">\n\t\t\t\t\t\t\t\t\t\t\t{orderedPostIds.map((postId, index) => (\n\t\t\t\t\t\t\t\t\t\t\t\t<li key={postId} className=\"flex items-center justify-between p-2 bg-white border border-gray-100 rounded text-sm font-normal shadow-sm\">\n                                        <span className=\"text-gray-600 flex-grow pr-2\">\n                                           <a href={getPostLink(chapterIdStr, postId)} onClick={(e) => e.preventDefault()}>\n                                                {getPostTitle(chapterIdStr, postId)}\n                                           </a>\n                                        </span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex space-x-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticon={ <Dashicon icon=\"arrow-up-alt2\" /> }\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={ __( 'Move Article Up', 'toc-block' ) }\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={ () => handleMovePost( chapterIdStr, postId, 'up' ) }\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={ index === 0 }\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tisSmall\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticon={ <Dashicon icon=\"arrow-down-alt2\" /> }\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={ __( 'Move Article Down', 'toc-block' ) }\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={ () => handleMovePost( chapterIdStr, postId, 'down' ) }\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={ index === orderedPostIds.length - 1 }\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tisSmall\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t\t\t{orderedPostIds.length === 0 && (\n\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs text-gray-500 mt-1 pl-4\">(No articles found in this chapter.)</p>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</ol>\n\t\t\t\t)}\n\n\t\t\t\t{ !isLoading && category && orderedChapters.length === 0 && (\n\t\t\t\t\t<p className=\"p-3 bg-yellow-100 text-yellow-800 rounded\">No chapters (child categories) found for this root category.</p>\n\t\t\t\t)}\n\t\t\t</div>\n\n\t\t\t{/* Hidden RichText placeholder to satisfy the block editor structure */}\n\t\t\t<p className=\"sr-only\">\n\t\t\t\t{ 'TOC Block: Content generated dynamically by PHP using selected category and post order.' }\n\t\t\t</p>\n\t\t</div>\n\t)\n}\n","// extracted by mini-css-extract-plugin\nexport {};","/**\n * Registers a new block provided a unique name and an object defining its behavior.\n *\n * @see https://developer.wordpress.org/block-editor/reference-guides/block-api/block-registration/\n */\nimport { registerBlockType } from '@wordpress/blocks';\n\n/**\n * Lets webpack process CSS, SASS or SCSS files referenced in JavaScript files.\n * All files containing `style` keyword are bundled together. The code used\n * gets applied both to the front of your site and to the editor.\n *\n * @see https://www.npmjs.com/package/@wordpress/scripts#using-css\n */\nimport './style.scss';\n\n/**\n * Internal dependencies\n */\nimport Edit from './edit';\nimport save from './save';\nimport metadata from './block.json';\n\n/**\n * Every block starts by registering a new block type definition.\n *\n * @see https://developer.wordpress.org/block-editor/reference-guides/block-api/block-registration/\n */\nregisterBlockType( metadata.name, {\n\t/**\n\t * @see ./edit.js\n\t */\n\tedit: Edit,\n\t/**\n\t * @see ./save.js\n\t */\n\tsave,\n} );\n","/**\n * React hook that is used to mark the block wrapper element.\n * It provides all the necessary props like the class name.\n *\n * @see https://developer.wordpress.org/block-editor/reference-guides/packages/packages-block-editor/#useblockprops\n */\nimport { useBlockProps } from '@wordpress/block-editor';\n\n/**\n * The save function defines the way in which the different attributes should\n * be combined into the final markup, which is then serialized by the block\n * editor into `post_content`.\n *\n * @see https://developer.wordpress.org/block-editor/reference-guides/block-api/block-edit-save/#save\n *\n * @return {Element} Element to render.\n */\nexport default function save() {\n\treturn (\n\t\t<p { ...useBlockProps.save() }>\n\t\t\t{ '' }\n\t\t</p>\n\t);\n}\n","// extracted by mini-css-extract-plugin\nexport {};","module.exports = window[\"wp\"][\"apiFetch\"];","module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"blocks\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"i18n\"];","module.exports = window[\"ReactJSXRuntime\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t\"pau-table-of-contents-block/index\": 0,\n\t\"pau-table-of-contents-block/style-index\": 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = globalThis[\"webpackChunkpau_table_of_contents_block\"] = globalThis[\"webpackChunkpau_table_of_contents_block\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [\"pau-table-of-contents-block/style-index\"], () => (__webpack_require__(\"./src/pau-table-of-contents-block/index.js\")))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n",""],"names":["__","useBlockProps","AlignmentToolbar","BlockControls","InspectorControls","ToolbarGroup","PanelBody","SelectControl","Button","Dashicon","Spinner","useState","useEffect","apiFetch","jsx","_jsx","jsxs","_jsxs","decodeHTMLEntities","text","textarea","document","createElement","innerHTML","value","Edit","className","attributes","attr","setAttributes","category","postOrder","chapterOrder","categories","setCategories","childCategories","setChildCategories","postsByChapter","setPostsByChapter","isLoading","setIsLoading","onChangeAlignment","newAlignment","alignment","undefined","onChangeCategory","newCat","path","then","data","catch","error","console","parentId","parseInt","fetchedChapterIds","map","chapter","id","length","some","includes","fetchPromises","posts","chapterId","Promise","all","results","newPostsByChapter","newPostOrder","postOrderChanged","forEach","chapterIdStr","String","fetchedPostIds","post","existingOrder","filter","missingPosts","finalOrder","JSON","stringify","handleMovePost","postId","direction","currentPostOrder","currentIndex","indexOf","newIndex","newChapterOrder","handleMoveChapter","getPostTitle","find","p","title","rendered","getPostLink","link","getChapterName","chapterIdInt","root","c","name","childChapter","blockProps","getOrderedChapters","Boolean","orderedChapters","children","onChange","label","options","cat","__next40pxDefaultSize","__nextHasNoMarginBottom","style","textAlign","chapterIndex","orderedPostIds","isFirstChapter","isLastChapter","icon","onClick","disabled","isSmall","index","href","e","preventDefault","registerBlockType","save","metadata","edit"],"sourceRoot":""}